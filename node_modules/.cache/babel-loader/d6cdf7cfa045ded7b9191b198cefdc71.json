{"ast":null,"code":"var _jsxFileName = \"/Users/chichke/Documents/Work/Freelance/swap-project/src/pages/Vote/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { AutoColumn } from \"../../components/Column\";\nimport styled from \"styled-components\";\nimport { TYPE, ExternalLink } from \"../../theme\";\nimport { RowBetween, RowFixed } from \"../../components/Row\";\nimport { Link } from \"react-router-dom\";\nimport { ProposalStatus } from \"./styled\";\nimport { ButtonPrimary } from \"../../components/Button\";\nimport { Button } from \"rebass/styled-components\";\nimport { darken } from \"polished\";\nimport { CardSection, DataCard, CardNoise, CardBGImage } from \"../../components/earn/styled\";\nimport { useAllProposalData, useUserVotes, useUserDelegatee } from \"../../state/governance/hooks\";\nimport DelegateModal from \"../../components/vote/DelegateModal\";\nimport { useTokenBalance } from \"../../state/wallet/hooks\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { ZERO_ADDRESS } from \"../../constants\";\nimport { JSBI, ChainId } from \"@uniswap/sdk\";\nimport { shortenAddress, getEtherscanLink } from \"../../utils\";\nimport Loader from \"../../components/Loader\";\nimport FormattedCurrencyAmount from \"../../components/FormattedCurrencyAmount\";\nimport { useModalOpen, useToggleDelegateModal } from \"../../state/application/hooks\";\nimport { ApplicationModal } from \"../../state/application/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PageWrapper = styled(AutoColumn)``;\n_c = PageWrapper;\nconst TopSection = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`;\n_c2 = TopSection;\nconst Proposal = styled(Button)`\n  padding: 0.75rem 1rem;\n  width: 100%;\n  margin-top: 1rem;\n  border-radius: 12px;\n  display: grid;\n  grid-template-columns: 48px 1fr 120px;\n  align-items: center;\n  text-align: left;\n  outline: none;\n  cursor: pointer;\n  color: ${({\n  theme\n}) => theme.text1};\n  text-decoration: none;\n  background-color: ${({\n  theme\n}) => theme.bg1};\n  &:focus {\n    background-color: ${({\n  theme\n}) => darken(0.05, theme.bg1)};\n  }\n  &:hover {\n    background-color: ${({\n  theme\n}) => darken(0.05, theme.bg1)};\n  }\n`;\n_c3 = Proposal;\nconst ProposalNumber = styled.span`\n  opacity: 0.6;\n`;\n_c4 = ProposalNumber;\nconst ProposalTitle = styled.span`\n  font-weight: 600;\n`;\n_c5 = ProposalTitle;\nconst VoteCard = styled(DataCard)`\n  background: radial-gradient(\n    76.02% 75.41% at 1.84% 0%,\n    #27ae60 0%,\n    #000000 100%\n  );\n  overflow: hidden;\n`;\n_c6 = VoteCard;\nconst WrapSmall = styled(RowBetween)`\n  ${({\n  theme\n}) => theme.mediaWidth.upToSmall`\n    flex-wrap: wrap;\n  \n  `};\n`;\n_c7 = WrapSmall;\nconst TextButton = styled(TYPE.main)`\n  color: ${({\n  theme\n}) => theme.primary1};\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`;\n_c8 = TextButton;\nconst AddressButton = styled.div`\n  border: 1px solid ${({\n  theme\n}) => theme.bg3};\n  padding: 2px 4px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n_c9 = AddressButton;\nconst StyledExternalLink = styled(ExternalLink)`\n  color: ${({\n  theme\n}) => theme.text1};\n`;\n_c10 = StyledExternalLink;\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({\n  theme\n}) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n_c11 = EmptyProposals;\nexport default function Vote() {\n  _s();\n\n  const {\n    account,\n    chainId\n  } = useActiveWeb3React(); // toggle for showing delegation modal\n\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE);\n  const toggleDelegateModal = useToggleDelegateModal(); // get data to list all proposals\n\n  const allProposals = useAllProposalData(); // user data\n\n  const availableVotes = useUserVotes();\n  const uniBalance = useTokenBalance(account !== null && account !== void 0 ? account : undefined, chainId ? UNI[chainId] : undefined);\n  const userDelegatee = useUserDelegatee(); // show delegation option if they have have a balance, but have not delegated\n\n  const showUnlockVoting = Boolean(uniBalance && JSBI.notEqual(uniBalance.raw, JSBI.BigInt(0)) && userDelegatee === ZERO_ADDRESS);\n  return /*#__PURE__*/_jsxDEV(PageWrapper, {\n    gap: \"lg\",\n    justify: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(DelegateModal, {\n      isOpen: showDelegateModal,\n      onDismiss: toggleDelegateModal,\n      title: showUnlockVoting ? \"Unlock Votes\" : \"Update Delegation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TopSection, {\n      gap: \"md\",\n      children: /*#__PURE__*/_jsxDEV(VoteCard, {\n        children: [/*#__PURE__*/_jsxDEV(CardBGImage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardNoise, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardSection, {\n          children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n            gap: \"md\",\n            children: [/*#__PURE__*/_jsxDEV(RowBetween, {\n              children: /*#__PURE__*/_jsxDEV(TYPE.white, {\n                fontWeight: 600,\n                children: \"Uniswap Governance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(RowBetween, {\n              children: /*#__PURE__*/_jsxDEV(TYPE.white, {\n                fontSize: 14,\n                children: \"UNI tokens represent voting shares in Uniswap governance. You can vote on each proposal yourself or delegate your votes to a third party.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ExternalLink, {\n              style: {\n                color: \"white\",\n                textDecoration: \"underline\"\n              },\n              href: \"https://uniswap.org/blog/uni\",\n              target: \"_blank\",\n              children: /*#__PURE__*/_jsxDEV(TYPE.white, {\n                fontSize: 14,\n                children: \"Read more about Uniswap governance\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardBGImage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardNoise, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TopSection, {\n      gap: \"2px\",\n      children: [/*#__PURE__*/_jsxDEV(WrapSmall, {\n        children: [/*#__PURE__*/_jsxDEV(TYPE.mediumHeader, {\n          style: {\n            margin: \"0.5rem 0.5rem 0.5rem 0\",\n            flexShrink: 0\n          },\n          children: \"Proposals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), (!allProposals || allProposals.length === 0) && !availableVotes && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), showUnlockVoting ? /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n          style: {\n            width: \"fit-content\"\n          },\n          padding: \"8px\",\n          borderRadius: \"8px\",\n          onClick: toggleDelegateModal,\n          children: \"Unlock Voting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 13\n        }, this) : availableVotes && JSBI.notEqual(JSBI.BigInt(0), availableVotes === null || availableVotes === void 0 ? void 0 : availableVotes.raw) ? /*#__PURE__*/_jsxDEV(TYPE.body, {\n          fontWeight: 500,\n          mr: \"6px\",\n          children: [/*#__PURE__*/_jsxDEV(FormattedCurrencyAmount, {\n            currencyAmount: availableVotes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }, this), \" Votes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 13\n        }, this) : uniBalance && userDelegatee && userDelegatee !== ZERO_ADDRESS && JSBI.notEqual(JSBI.BigInt(0), uniBalance === null || uniBalance === void 0 ? void 0 : uniBalance.raw) ? /*#__PURE__*/_jsxDEV(TYPE.body, {\n          fontWeight: 500,\n          mr: \"6px\",\n          children: [/*#__PURE__*/_jsxDEV(FormattedCurrencyAmount, {\n            currencyAmount: uniBalance\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 15\n          }, this), \" Votes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), !showUnlockVoting && /*#__PURE__*/_jsxDEV(RowBetween, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }, this), userDelegatee && userDelegatee !== ZERO_ADDRESS ? /*#__PURE__*/_jsxDEV(RowFixed, {\n          children: [/*#__PURE__*/_jsxDEV(TYPE.body, {\n            fontWeight: 500,\n            mr: \"4px\",\n            children: \"Delegated to:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(AddressButton, {\n            children: [/*#__PURE__*/_jsxDEV(StyledExternalLink, {\n              href: getEtherscanLink(ChainId.MAINNET, userDelegatee, \"address\"),\n              style: {\n                margin: \"0 4px\"\n              },\n              children: userDelegatee === account ? \"Self\" : shortenAddress(userDelegatee)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TextButton, {\n              onClick: toggleDelegateModal,\n              style: {\n                marginLeft: \"4px\"\n              },\n              children: \"(edit)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), (allProposals === null || allProposals === void 0 ? void 0 : allProposals.length) === 0 && /*#__PURE__*/_jsxDEV(EmptyProposals, {\n        children: [/*#__PURE__*/_jsxDEV(TYPE.body, {\n          style: {\n            marginBottom: \"8px\"\n          },\n          children: \"No proposals found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TYPE.subHeader, {\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            children: \"Proposals submitted by community members will appear here.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), allProposals === null || allProposals === void 0 ? void 0 : allProposals.map((p, i) => {\n        return /*#__PURE__*/_jsxDEV(Proposal, {\n          as: Link,\n          to: \"/vote/\" + p.id,\n          children: [/*#__PURE__*/_jsxDEV(ProposalNumber, {\n            children: p.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProposalTitle, {\n            children: p.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ProposalStatus, {\n            status: p.status,\n            children: p.status\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TYPE.subHeader, {\n      color: \"text3\",\n      children: \"A minimum threshhold of 1% of the total UNI supply is required to submit proposals\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Vote, \"i7TTfD2IX7L0kTYvFMv9GRO4Suk=\", false, function () {\n  return [useActiveWeb3React, useModalOpen, useToggleDelegateModal, useAllProposalData, useUserVotes, useTokenBalance, useUserDelegatee];\n});\n\n_c12 = Vote;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"PageWrapper\");\n$RefreshReg$(_c2, \"TopSection\");\n$RefreshReg$(_c3, \"Proposal\");\n$RefreshReg$(_c4, \"ProposalNumber\");\n$RefreshReg$(_c5, \"ProposalTitle\");\n$RefreshReg$(_c6, \"VoteCard\");\n$RefreshReg$(_c7, \"WrapSmall\");\n$RefreshReg$(_c8, \"TextButton\");\n$RefreshReg$(_c9, \"AddressButton\");\n$RefreshReg$(_c10, \"StyledExternalLink\");\n$RefreshReg$(_c11, \"EmptyProposals\");\n$RefreshReg$(_c12, \"Vote\");","map":{"version":3,"sources":["/Users/chichke/Documents/Work/Freelance/swap-project/src/pages/Vote/index.tsx"],"names":["React","AutoColumn","styled","TYPE","ExternalLink","RowBetween","RowFixed","Link","ProposalStatus","ButtonPrimary","Button","darken","CardSection","DataCard","CardNoise","CardBGImage","useAllProposalData","useUserVotes","useUserDelegatee","DelegateModal","useTokenBalance","useActiveWeb3React","ZERO_ADDRESS","JSBI","ChainId","shortenAddress","getEtherscanLink","Loader","FormattedCurrencyAmount","useModalOpen","useToggleDelegateModal","ApplicationModal","PageWrapper","TopSection","Proposal","theme","text1","bg1","ProposalNumber","span","ProposalTitle","VoteCard","WrapSmall","mediaWidth","upToSmall","TextButton","main","primary1","AddressButton","div","bg3","StyledExternalLink","EmptyProposals","text4","Vote","account","chainId","showDelegateModal","DELEGATE","toggleDelegateModal","allProposals","availableVotes","uniBalance","undefined","UNI","userDelegatee","showUnlockVoting","Boolean","notEqual","raw","BigInt","color","textDecoration","margin","flexShrink","length","width","MAINNET","marginLeft","marginBottom","map","p","i","id","title","status"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { AutoColumn } from \"../../components/Column\";\nimport styled from \"styled-components\";\nimport { TYPE, ExternalLink } from \"../../theme\";\nimport { RowBetween, RowFixed } from \"../../components/Row\";\nimport { Link } from \"react-router-dom\";\nimport { ProposalStatus } from \"./styled\";\nimport { ButtonPrimary } from \"../../components/Button\";\n\nimport { Button } from \"rebass/styled-components\";\nimport { darken } from \"polished\";\nimport {\n  CardSection,\n  DataCard,\n  CardNoise,\n  CardBGImage,\n} from \"../../components/earn/styled\";\nimport {\n  useAllProposalData,\n  ProposalData,\n  useUserVotes,\n  useUserDelegatee,\n} from \"../../state/governance/hooks\";\nimport DelegateModal from \"../../components/vote/DelegateModal\";\nimport { useTokenBalance } from \"../../state/wallet/hooks\";\nimport { useActiveWeb3React } from \"../../hooks\";\nimport { ZERO_ADDRESS } from \"../../constants\";\nimport { JSBI, TokenAmount, ChainId } from \"@uniswap/sdk\";\nimport { shortenAddress, getEtherscanLink } from \"../../utils\";\nimport Loader from \"../../components/Loader\";\nimport FormattedCurrencyAmount from \"../../components/FormattedCurrencyAmount\";\nimport {\n  useModalOpen,\n  useToggleDelegateModal,\n} from \"../../state/application/hooks\";\nimport { ApplicationModal } from \"../../state/application/actions\";\n\nconst PageWrapper = styled(AutoColumn)``;\n\nconst TopSection = styled(AutoColumn)`\n  max-width: 640px;\n  width: 100%;\n`;\n\nconst Proposal = styled(Button)`\n  padding: 0.75rem 1rem;\n  width: 100%;\n  margin-top: 1rem;\n  border-radius: 12px;\n  display: grid;\n  grid-template-columns: 48px 1fr 120px;\n  align-items: center;\n  text-align: left;\n  outline: none;\n  cursor: pointer;\n  color: ${({ theme }) => theme.text1};\n  text-decoration: none;\n  background-color: ${({ theme }) => theme.bg1};\n  &:focus {\n    background-color: ${({ theme }) => darken(0.05, theme.bg1)};\n  }\n  &:hover {\n    background-color: ${({ theme }) => darken(0.05, theme.bg1)};\n  }\n`;\n\nconst ProposalNumber = styled.span`\n  opacity: 0.6;\n`;\n\nconst ProposalTitle = styled.span`\n  font-weight: 600;\n`;\n\nconst VoteCard = styled(DataCard)`\n  background: radial-gradient(\n    76.02% 75.41% at 1.84% 0%,\n    #27ae60 0%,\n    #000000 100%\n  );\n  overflow: hidden;\n`;\n\nconst WrapSmall = styled(RowBetween)`\n  ${({ theme }) => theme.mediaWidth.upToSmall`\n    flex-wrap: wrap;\n  \n  `};\n`;\n\nconst TextButton = styled(TYPE.main)`\n  color: ${({ theme }) => theme.primary1};\n  :hover {\n    cursor: pointer;\n    text-decoration: underline;\n  }\n`;\n\nconst AddressButton = styled.div`\n  border: 1px solid ${({ theme }) => theme.bg3};\n  padding: 2px 4px;\n  border-radius: 8px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst StyledExternalLink = styled(ExternalLink)`\n  color: ${({ theme }) => theme.text1};\n`;\n\nconst EmptyProposals = styled.div`\n  border: 1px solid ${({ theme }) => theme.text4};\n  padding: 16px 12px;\n  border-radius: 12px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport default function Vote() {\n  const { account, chainId } = useActiveWeb3React();\n\n  // toggle for showing delegation modal\n  const showDelegateModal = useModalOpen(ApplicationModal.DELEGATE);\n  const toggleDelegateModal = useToggleDelegateModal();\n\n  // get data to list all proposals\n  const allProposals: ProposalData[] = useAllProposalData();\n\n  // user data\n  const availableVotes: TokenAmount | undefined = useUserVotes();\n  const uniBalance: TokenAmount | undefined = useTokenBalance(\n    account ?? undefined,\n    chainId ? UNI[chainId] : undefined\n  );\n  const userDelegatee: string | undefined = useUserDelegatee();\n\n  // show delegation option if they have have a balance, but have not delegated\n  const showUnlockVoting = Boolean(\n    uniBalance &&\n      JSBI.notEqual(uniBalance.raw, JSBI.BigInt(0)) &&\n      userDelegatee === ZERO_ADDRESS\n  );\n\n  return (\n    <PageWrapper gap=\"lg\" justify=\"center\">\n      <DelegateModal\n        isOpen={showDelegateModal}\n        onDismiss={toggleDelegateModal}\n        title={showUnlockVoting ? \"Unlock Votes\" : \"Update Delegation\"}\n      />\n      <TopSection gap=\"md\">\n        <VoteCard>\n          <CardBGImage />\n          <CardNoise />\n          <CardSection>\n            <AutoColumn gap=\"md\">\n              <RowBetween>\n                <TYPE.white fontWeight={600}>Uniswap Governance</TYPE.white>\n              </RowBetween>\n              <RowBetween>\n                <TYPE.white fontSize={14}>\n                  UNI tokens represent voting shares in Uniswap governance. You\n                  can vote on each proposal yourself or delegate your votes to a\n                  third party.\n                </TYPE.white>\n              </RowBetween>\n              <ExternalLink\n                style={{ color: \"white\", textDecoration: \"underline\" }}\n                href=\"https://uniswap.org/blog/uni\"\n                target=\"_blank\"\n              >\n                <TYPE.white fontSize={14}>\n                  Read more about Uniswap governance\n                </TYPE.white>\n              </ExternalLink>\n            </AutoColumn>\n          </CardSection>\n          <CardBGImage />\n          <CardNoise />\n        </VoteCard>\n      </TopSection>\n      <TopSection gap=\"2px\">\n        <WrapSmall>\n          <TYPE.mediumHeader\n            style={{ margin: \"0.5rem 0.5rem 0.5rem 0\", flexShrink: 0 }}\n          >\n            Proposals\n          </TYPE.mediumHeader>\n          {(!allProposals || allProposals.length === 0) && !availableVotes && (\n            <Loader />\n          )}\n          {showUnlockVoting ? (\n            <ButtonPrimary\n              style={{ width: \"fit-content\" }}\n              padding=\"8px\"\n              borderRadius=\"8px\"\n              onClick={toggleDelegateModal}\n            >\n              Unlock Voting\n            </ButtonPrimary>\n          ) : availableVotes &&\n            JSBI.notEqual(JSBI.BigInt(0), availableVotes?.raw) ? (\n            <TYPE.body fontWeight={500} mr=\"6px\">\n              <FormattedCurrencyAmount currencyAmount={availableVotes} /> Votes\n            </TYPE.body>\n          ) : uniBalance &&\n            userDelegatee &&\n            userDelegatee !== ZERO_ADDRESS &&\n            JSBI.notEqual(JSBI.BigInt(0), uniBalance?.raw) ? (\n            <TYPE.body fontWeight={500} mr=\"6px\">\n              <FormattedCurrencyAmount currencyAmount={uniBalance} /> Votes\n            </TYPE.body>\n          ) : (\n            \"\"\n          )}\n        </WrapSmall>\n        {!showUnlockVoting && (\n          <RowBetween>\n            <div />\n            {userDelegatee && userDelegatee !== ZERO_ADDRESS ? (\n              <RowFixed>\n                <TYPE.body fontWeight={500} mr=\"4px\">\n                  Delegated to:\n                </TYPE.body>\n                <AddressButton>\n                  <StyledExternalLink\n                    href={getEtherscanLink(\n                      ChainId.MAINNET,\n                      userDelegatee,\n                      \"address\"\n                    )}\n                    style={{ margin: \"0 4px\" }}\n                  >\n                    {userDelegatee === account\n                      ? \"Self\"\n                      : shortenAddress(userDelegatee)}\n                  </StyledExternalLink>\n                  <TextButton\n                    onClick={toggleDelegateModal}\n                    style={{ marginLeft: \"4px\" }}\n                  >\n                    (edit)\n                  </TextButton>\n                </AddressButton>\n              </RowFixed>\n            ) : (\n              \"\"\n            )}\n          </RowBetween>\n        )}\n        {allProposals?.length === 0 && (\n          <EmptyProposals>\n            <TYPE.body style={{ marginBottom: \"8px\" }}>\n              No proposals found.\n            </TYPE.body>\n            <TYPE.subHeader>\n              <i>Proposals submitted by community members will appear here.</i>\n            </TYPE.subHeader>\n          </EmptyProposals>\n        )}\n        {allProposals?.map((p: ProposalData, i) => {\n          return (\n            <Proposal as={Link} to={\"/vote/\" + p.id} key={i}>\n              <ProposalNumber>{p.id}</ProposalNumber>\n              <ProposalTitle>{p.title}</ProposalTitle>\n              <ProposalStatus status={p.status}>{p.status}</ProposalStatus>\n            </Proposal>\n          );\n        })}\n      </TopSection>\n      <TYPE.subHeader color=\"text3\">\n        A minimum threshhold of 1% of the total UNI supply is required to submit\n        proposals\n      </TYPE.subHeader>\n    </PageWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}