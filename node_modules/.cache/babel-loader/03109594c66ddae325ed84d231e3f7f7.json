{"ast":null,"code":"var _jsxFileName = \"/Users/chichke/Documents/Work/Freelance/swap-project/src/components/SearchModal/ManageLists.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { memo, useCallback, useMemo, useRef, useState, useEffect } from \"react\";\nimport { Settings, CheckCircle } from \"react-feather\";\nimport ReactGA from \"react-ga\";\nimport { usePopper } from \"react-popper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { useFetchListCallback } from \"../../hooks/useFetchListCallback\";\nimport { useOnClickOutside } from \"../../hooks/useOnClickOutside\";\nimport useToggle from \"../../hooks/useToggle\";\nimport { acceptListUpdate, removeList, disableList, enableList } from \"../../state/lists/actions\";\nimport { useIsListActive, useAllLists, useActiveListUrls } from \"../../state/lists/hooks\";\nimport { ExternalLink, LinkStyledButton, TYPE, IconWrapper } from \"../../theme\";\nimport listVersionLabel from \"../../utils/listVersionLabel\";\nimport { parseENSAddress } from \"../../utils/parseENSAddress\";\nimport uriToHttp from \"../../utils/uriToHttp\";\nimport { ButtonEmpty, ButtonPrimary } from \"../Button\";\nimport Column, { AutoColumn } from \"../Column\";\nimport ListLogo from \"../ListLogo\";\nimport Row, { RowFixed, RowBetween } from \"../Row\";\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from \"./styleds\";\nimport { useListColor } from \"hooks/useColor\";\nimport useTheme from \"../../hooks/useTheme\";\nimport ListToggle from \"../Toggle/ListToggle\";\nimport Card from \"components/Card\";\nimport { CurrencyModalView } from \"./CurrencySearchModal\";\nimport { UNSUPPORTED_LIST_URLS } from \"constants/lists\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled(Column)`\n  width: 100%;\n  height: 100%;\n`;\n_c = Wrapper;\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\n  padding: 0;\n  font-size: 1rem;\n  opacity: ${({\n  disabled\n}) => disabled ? \"0.4\" : \"1\"};\n`;\n_c2 = UnpaddedLinkStyledButton;\nconst PopoverContainer = styled.div`\n  z-index: 100;\n  visibility: ${props => props.show ? \"visible\" : \"hidden\"};\n  opacity: ${props => props.show ? 1 : 0};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  background: ${({\n  theme\n}) => theme.bg2};\n  border: 1px solid ${({\n  theme\n}) => theme.bg3};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04),\n    0px 16px 24px rgba(0, 0, 0, 0.04), 0px 24px 32px rgba(0, 0, 0, 0.01);\n  color: ${({\n  theme\n}) => theme.text2};\n  border-radius: 0.5rem;\n  padding: 1rem;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-gap: 8px;\n  font-size: 1rem;\n  text-align: left;\n`;\n_c3 = PopoverContainer;\nconst StyledMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n`;\n_c4 = StyledMenu;\nconst StyledTitleText = styled.div`\n  font-size: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  color: ${({\n  theme,\n  active\n}) => active ? theme.white : theme.text2};\n`;\n_c5 = StyledTitleText;\nconst StyledListUrlText = styled(TYPE.main)`\n  font-size: 12px;\n  color: ${({\n  theme,\n  active\n}) => active ? theme.white : theme.text2};\n`;\n_c6 = StyledListUrlText;\nconst RowWrapper = styled(Row)`\n  background-color: ${({\n  bgColor,\n  active,\n  theme\n}) => active ? bgColor !== null && bgColor !== void 0 ? bgColor : \"transparent\" : theme.bg2};\n  transition: 200ms;\n  align-items: center;\n  padding: 1rem;\n  border-radius: 20px;\n`;\n_c7 = RowWrapper;\n\nfunction listUrlRowHTMLId(listUrl) {\n  return `list-row-${listUrl.replace(/\\./g, \"-\")}`;\n}\n\nconst ListRow = /*#__PURE__*/memo(_c8 = _s(function ListRow({\n  listUrl\n}) {\n  _s();\n\n  const listsByUrl = useSelector(state => state.lists.byUrl);\n  const dispatch = useDispatch();\n  const {\n    current: list,\n    pendingUpdate: pending\n  } = listsByUrl[listUrl];\n  const theme = useTheme();\n  const listColor = useListColor(list === null || list === void 0 ? void 0 : list.logoURI);\n  const isActive = useIsListActive(listUrl);\n  const [open, toggle] = useToggle(false);\n  const node = useRef();\n  const [referenceElement, setReferenceElement] = useState();\n  const [popperElement, setPopperElement] = useState();\n  const {\n    styles,\n    attributes\n  } = usePopper(referenceElement, popperElement, {\n    placement: \"auto\",\n    strategy: \"fixed\",\n    modifiers: [{\n      name: \"offset\",\n      options: {\n        offset: [8, 8]\n      }\n    }]\n  });\n  useOnClickOutside(node, open ? toggle : undefined);\n  const handleAcceptListUpdate = useCallback(() => {\n    if (!pending) return;\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Update List from List Select\",\n      label: listUrl\n    });\n    dispatch(acceptListUpdate(listUrl));\n  }, [dispatch, listUrl, pending]);\n  const handleRemoveList = useCallback(() => {\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Start Remove List\",\n      label: listUrl\n    });\n\n    if (window.prompt(`Please confirm you would like to remove this list by typing REMOVE`) === `REMOVE`) {\n      ReactGA.event({\n        category: \"Lists\",\n        action: \"Confirm Remove List\",\n        label: listUrl\n      });\n      dispatch(removeList(listUrl));\n    }\n  }, [dispatch, listUrl]);\n  const handleEnableList = useCallback(() => {\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Enable List\",\n      label: listUrl\n    });\n    dispatch(enableList(listUrl));\n  }, [dispatch, listUrl]);\n  const handleDisableList = useCallback(() => {\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Disable List\",\n      label: listUrl\n    });\n    dispatch(disableList(listUrl));\n  }, [dispatch, listUrl]);\n  if (!list) return null;\n  return /*#__PURE__*/_jsxDEV(RowWrapper, {\n    active: isActive,\n    bgColor: listColor,\n    id: listUrlRowHTMLId(listUrl),\n    children: [list.logoURI ? /*#__PURE__*/_jsxDEV(ListLogo, {\n      size: \"40px\",\n      style: {\n        marginRight: \"1rem\"\n      },\n      logoURI: list.logoURI,\n      alt: `${list.name} list logo`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"24px\",\n        height: \"24px\",\n        marginRight: \"1rem\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Column, {\n      style: {\n        flex: \"1\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(StyledTitleText, {\n          active: isActive,\n          children: list.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RowFixed, {\n        mt: \"4px\",\n        children: [/*#__PURE__*/_jsxDEV(StyledListUrlText, {\n          active: isActive,\n          mr: \"6px\",\n          children: [list.tokens.length, \" tokens\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StyledMenu, {\n          ref: node,\n          children: [/*#__PURE__*/_jsxDEV(ButtonEmpty, {\n            onClick: toggle,\n            ref: setReferenceElement,\n            padding: \"0\",\n            children: /*#__PURE__*/_jsxDEV(Settings, {\n              stroke: isActive ? theme.bg1 : theme.text1,\n              size: 12\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), open && /*#__PURE__*/_jsxDEV(PopoverContainer, {\n            show: true,\n            ref: setPopperElement,\n            style: styles.popper,\n            ...attributes.popper,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: list && listVersionLabel(list.version)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SeparatorDark, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(ExternalLink, {\n              href: `https://tokenlists.org/token-list?url=${listUrl}`,\n              children: \"View list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(UnpaddedLinkStyledButton, {\n              onClick: handleRemoveList,\n              disabled: Object.keys(listsByUrl).length === 1,\n              children: \"Remove list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), pending && /*#__PURE__*/_jsxDEV(UnpaddedLinkStyledButton, {\n              onClick: handleAcceptListUpdate,\n              children: \"Update list\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListToggle, {\n      isActive: isActive,\n      bgColor: listColor,\n      toggle: () => {\n        isActive ? handleDisableList() : handleEnableList();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this)]\n  }, listUrl, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n}, \"awYkKPjHYhI8DS6md4VMfq2oaUY=\", false, function () {\n  return [useSelector, useDispatch, useTheme, useListColor, useIsListActive, useToggle, usePopper, useOnClickOutside];\n}));\n_c9 = ListRow;\nconst ListContainer = styled.div`\n  padding: 1rem;\n  height: 100%;\n  overflow: auto;\n  padding-bottom: 80px;\n`;\n_c10 = ListContainer;\nexport function ManageLists({\n  setModalView,\n  setImportList,\n  setListUrl\n}) {\n  _s2();\n\n  const theme = useTheme();\n  const [listUrlInput, setListUrlInput] = useState(\"\");\n  const lists = useAllLists(); // sort by active but only if not visible\n\n  const activeListUrls = useActiveListUrls();\n  const [activeCopy, setActiveCopy] = useState();\n  useEffect(() => {\n    if (!activeCopy && activeListUrls) {\n      setActiveCopy(activeListUrls);\n    }\n  }, [activeCopy, activeListUrls]);\n  const handleInput = useCallback(e => {\n    setListUrlInput(e.target.value);\n  }, []);\n  const fetchList = useFetchListCallback();\n  const validUrl = useMemo(() => {\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput));\n  }, [listUrlInput]);\n  const sortedLists = useMemo(() => {\n    const listUrls = Object.keys(lists);\n    return listUrls.filter(listUrl => {\n      // only show loaded lists, hide unsupported lists\n      return Boolean(lists[listUrl].current) && !Boolean(UNSUPPORTED_LIST_URLS.includes(listUrl));\n    }).sort((u1, u2) => {\n      const {\n        current: l1\n      } = lists[u1];\n      const {\n        current: l2\n      } = lists[u2]; // first filter on active lists\n\n      if ((activeCopy === null || activeCopy === void 0 ? void 0 : activeCopy.includes(u1)) && !(activeCopy === null || activeCopy === void 0 ? void 0 : activeCopy.includes(u2))) {\n        return -1;\n      }\n\n      if (!(activeCopy === null || activeCopy === void 0 ? void 0 : activeCopy.includes(u1)) && (activeCopy === null || activeCopy === void 0 ? void 0 : activeCopy.includes(u2))) {\n        return 1;\n      }\n\n      if (l1 && l2) {\n        return l1.name.toLowerCase() < l2.name.toLowerCase() ? -1 : l1.name.toLowerCase() === l2.name.toLowerCase() ? 0 : 1;\n      }\n\n      if (l1) return -1;\n      if (l2) return 1;\n      return 0;\n    });\n  }, [lists, activeCopy]); // temporary fetched list for import flow\n\n  const [tempList, setTempList] = useState();\n  const [addError, setAddError] = useState();\n  useEffect(() => {\n    async function fetchTempList() {\n      fetchList(false).then(list => setTempList(list)).catch(() => setAddError(\"Error importing list\"));\n    } // if valid url, fetch details for card\n\n\n    if (validUrl) {\n      fetchTempList();\n    } else {\n      setTempList(undefined);\n      listUrlInput !== \"\" && setAddError(\"Enter valid list location\");\n    } // reset error\n\n\n    if (listUrlInput === \"\") {\n      setAddError(undefined);\n    }\n  }, [fetchList, listUrlInput, validUrl]); // check if list is already imported\n\n  const isImported = Object.keys(lists).includes(listUrlInput); // set list values and have parent modal switch to import list view\n\n  const handleImport = useCallback(() => {\n    if (!tempList) return;\n    setImportList(tempList);\n    setModalView(CurrencyModalView.importList);\n    setListUrl(listUrlInput);\n  }, [listUrlInput, setImportList, setListUrl, setModalView, tempList]);\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    children: [/*#__PURE__*/_jsxDEV(PaddedColumn, {\n      gap: \"14px\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(SearchInput, {\n          type: \"text\",\n          id: \"list-add-input\",\n          placeholder: \"https:// or ipfs:// or ENS name\",\n          value: listUrlInput,\n          onChange: handleInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this), addError ? /*#__PURE__*/_jsxDEV(TYPE.error, {\n        title: addError,\n        style: {\n          textOverflow: \"ellipsis\",\n          overflow: \"hidden\"\n        },\n        error: true,\n        children: addError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), tempList && /*#__PURE__*/_jsxDEV(PaddedColumn, {\n      style: {\n        paddingTop: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        backgroundColor: theme.bg2,\n        padding: \"12px 20px\",\n        children: /*#__PURE__*/_jsxDEV(RowBetween, {\n          children: [/*#__PURE__*/_jsxDEV(RowFixed, {\n            children: [tempList.logoURI && /*#__PURE__*/_jsxDEV(ListLogo, {\n              logoURI: tempList.logoURI,\n              size: \"40px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(AutoColumn, {\n              gap: \"4px\",\n              style: {\n                marginLeft: \"20px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(TYPE.body, {\n                fontWeight: 600,\n                children: tempList.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TYPE.main, {\n                fontSize: \"12px\",\n                children: [tempList.tokens.length, \" tokens\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this), isImported ? /*#__PURE__*/_jsxDEV(RowFixed, {\n            children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n              stroke: theme.text2,\n              size: \"16px\",\n              marginRight: \"10px\",\n              children: /*#__PURE__*/_jsxDEV(CheckCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TYPE.body, {\n              color: theme.text2,\n              children: \"Loaded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n            style: {\n              fontSize: \"14px\"\n            },\n            padding: \"6px 8px\",\n            width: \"fit-content\",\n            onClick: handleImport,\n            children: \"Import\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ListContainer, {\n      children: /*#__PURE__*/_jsxDEV(AutoColumn, {\n        gap: \"md\",\n        children: sortedLists.map(listUrl => /*#__PURE__*/_jsxDEV(ListRow, {\n          listUrl: listUrl\n        }, listUrl, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 371,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(ManageLists, \"LTmTrNBdAFNRfUpqAA6kBNtEuyg=\", false, function () {\n  return [useTheme, useAllLists, useActiveListUrls, useFetchListCallback];\n});\n\n_c11 = ManageLists;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"UnpaddedLinkStyledButton\");\n$RefreshReg$(_c3, \"PopoverContainer\");\n$RefreshReg$(_c4, \"StyledMenu\");\n$RefreshReg$(_c5, \"StyledTitleText\");\n$RefreshReg$(_c6, \"StyledListUrlText\");\n$RefreshReg$(_c7, \"RowWrapper\");\n$RefreshReg$(_c8, \"ListRow$memo\");\n$RefreshReg$(_c9, \"ListRow\");\n$RefreshReg$(_c10, \"ListContainer\");\n$RefreshReg$(_c11, \"ManageLists\");","map":{"version":3,"sources":["/Users/chichke/Documents/Work/Freelance/swap-project/src/components/SearchModal/ManageLists.tsx"],"names":["React","memo","useCallback","useMemo","useRef","useState","useEffect","Settings","CheckCircle","ReactGA","usePopper","useDispatch","useSelector","styled","useFetchListCallback","useOnClickOutside","useToggle","acceptListUpdate","removeList","disableList","enableList","useIsListActive","useAllLists","useActiveListUrls","ExternalLink","LinkStyledButton","TYPE","IconWrapper","listVersionLabel","parseENSAddress","uriToHttp","ButtonEmpty","ButtonPrimary","Column","AutoColumn","ListLogo","Row","RowFixed","RowBetween","PaddedColumn","SearchInput","Separator","SeparatorDark","useListColor","useTheme","ListToggle","Card","CurrencyModalView","UNSUPPORTED_LIST_URLS","Wrapper","UnpaddedLinkStyledButton","disabled","PopoverContainer","div","props","show","theme","bg2","bg3","text2","StyledMenu","StyledTitleText","active","white","StyledListUrlText","main","RowWrapper","bgColor","listUrlRowHTMLId","listUrl","replace","ListRow","listsByUrl","state","lists","byUrl","dispatch","current","list","pendingUpdate","pending","listColor","logoURI","isActive","open","toggle","node","referenceElement","setReferenceElement","popperElement","setPopperElement","styles","attributes","placement","strategy","modifiers","name","options","offset","undefined","handleAcceptListUpdate","event","category","action","label","handleRemoveList","window","prompt","handleEnableList","handleDisableList","marginRight","width","height","flex","tokens","length","bg1","text1","popper","version","Object","keys","ListContainer","ManageLists","setModalView","setImportList","setListUrl","listUrlInput","setListUrlInput","activeListUrls","activeCopy","setActiveCopy","handleInput","e","target","value","fetchList","validUrl","Boolean","sortedLists","listUrls","filter","includes","sort","u1","u2","l1","l2","toLowerCase","tempList","setTempList","addError","setAddError","fetchTempList","then","catch","isImported","handleImport","importList","textOverflow","overflow","paddingTop","marginLeft","fontSize","map"],"mappings":"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","sourcesContent":["import React, {\n  memo,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n  useEffect,\n} from \"react\";\nimport { Settings, CheckCircle } from \"react-feather\";\nimport ReactGA from \"react-ga\";\nimport { usePopper } from \"react-popper\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport { useFetchListCallback } from \"../../hooks/useFetchListCallback\";\nimport { useOnClickOutside } from \"../../hooks/useOnClickOutside\";\nimport { TokenList } from \"../../types\";\n\nimport useToggle from \"../../hooks/useToggle\";\nimport { AppDispatch, AppState } from \"../../state\";\nimport {\n  acceptListUpdate,\n  removeList,\n  disableList,\n  enableList,\n} from \"../../state/lists/actions\";\nimport {\n  useIsListActive,\n  useAllLists,\n  useActiveListUrls,\n} from \"../../state/lists/hooks\";\nimport { ExternalLink, LinkStyledButton, TYPE, IconWrapper } from \"../../theme\";\nimport listVersionLabel from \"../../utils/listVersionLabel\";\nimport { parseENSAddress } from \"../../utils/parseENSAddress\";\nimport uriToHttp from \"../../utils/uriToHttp\";\nimport { ButtonEmpty, ButtonPrimary } from \"../Button\";\n\nimport Column, { AutoColumn } from \"../Column\";\nimport ListLogo from \"../ListLogo\";\nimport Row, { RowFixed, RowBetween } from \"../Row\";\nimport { PaddedColumn, SearchInput, Separator, SeparatorDark } from \"./styleds\";\nimport { useListColor } from \"hooks/useColor\";\nimport useTheme from \"../../hooks/useTheme\";\nimport ListToggle from \"../Toggle/ListToggle\";\nimport Card from \"components/Card\";\nimport { CurrencyModalView } from \"./CurrencySearchModal\";\nimport { UNSUPPORTED_LIST_URLS } from \"constants/lists\";\n\nconst Wrapper = styled(Column)`\n  width: 100%;\n  height: 100%;\n`;\n\nconst UnpaddedLinkStyledButton = styled(LinkStyledButton)`\n  padding: 0;\n  font-size: 1rem;\n  opacity: ${({ disabled }) => (disabled ? \"0.4\" : \"1\")};\n`;\n\nconst PopoverContainer = styled.div<{ show: boolean }>`\n  z-index: 100;\n  visibility: ${(props) => (props.show ? \"visible\" : \"hidden\")};\n  opacity: ${(props) => (props.show ? 1 : 0)};\n  transition: visibility 150ms linear, opacity 150ms linear;\n  background: ${({ theme }) => theme.bg2};\n  border: 1px solid ${({ theme }) => theme.bg3};\n  box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.01), 0px 4px 8px rgba(0, 0, 0, 0.04),\n    0px 16px 24px rgba(0, 0, 0, 0.04), 0px 24px 32px rgba(0, 0, 0, 0.01);\n  color: ${({ theme }) => theme.text2};\n  border-radius: 0.5rem;\n  padding: 1rem;\n  display: grid;\n  grid-template-rows: 1fr;\n  grid-gap: 8px;\n  font-size: 1rem;\n  text-align: left;\n`;\n\nconst StyledMenu = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  border: none;\n`;\n\nconst StyledTitleText = styled.div<{ active: boolean }>`\n  font-size: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-weight: 600;\n  color: ${({ theme, active }) => (active ? theme.white : theme.text2)};\n`;\n\nconst StyledListUrlText = styled(TYPE.main)<{ active: boolean }>`\n  font-size: 12px;\n  color: ${({ theme, active }) => (active ? theme.white : theme.text2)};\n`;\n\nconst RowWrapper = styled(Row)<{ bgColor: string; active: boolean }>`\n  background-color: ${({ bgColor, active, theme }) =>\n    active ? bgColor ?? \"transparent\" : theme.bg2};\n  transition: 200ms;\n  align-items: center;\n  padding: 1rem;\n  border-radius: 20px;\n`;\n\nfunction listUrlRowHTMLId(listUrl: string) {\n  return `list-row-${listUrl.replace(/\\./g, \"-\")}`;\n}\n\nconst ListRow = memo(function ListRow({ listUrl }: { listUrl: string }) {\n  const listsByUrl = useSelector<AppState, AppState[\"lists\"][\"byUrl\"]>(\n    (state) => state.lists.byUrl\n  );\n  const dispatch = useDispatch<AppDispatch>();\n  const { current: list, pendingUpdate: pending } = listsByUrl[listUrl];\n\n  const theme = useTheme();\n  const listColor = useListColor(list?.logoURI);\n  const isActive = useIsListActive(listUrl);\n\n  const [open, toggle] = useToggle(false);\n  const node = useRef<HTMLDivElement>();\n  const [referenceElement, setReferenceElement] = useState<HTMLDivElement>();\n  const [popperElement, setPopperElement] = useState<HTMLDivElement>();\n\n  const { styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: \"auto\",\n    strategy: \"fixed\",\n    modifiers: [{ name: \"offset\", options: { offset: [8, 8] } }],\n  });\n\n  useOnClickOutside(node, open ? toggle : undefined);\n\n  const handleAcceptListUpdate = useCallback(() => {\n    if (!pending) return;\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Update List from List Select\",\n      label: listUrl,\n    });\n    dispatch(acceptListUpdate(listUrl));\n  }, [dispatch, listUrl, pending]);\n\n  const handleRemoveList = useCallback(() => {\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Start Remove List\",\n      label: listUrl,\n    });\n    if (\n      window.prompt(\n        `Please confirm you would like to remove this list by typing REMOVE`\n      ) === `REMOVE`\n    ) {\n      ReactGA.event({\n        category: \"Lists\",\n        action: \"Confirm Remove List\",\n        label: listUrl,\n      });\n      dispatch(removeList(listUrl));\n    }\n  }, [dispatch, listUrl]);\n\n  const handleEnableList = useCallback(() => {\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Enable List\",\n      label: listUrl,\n    });\n    dispatch(enableList(listUrl));\n  }, [dispatch, listUrl]);\n\n  const handleDisableList = useCallback(() => {\n    ReactGA.event({\n      category: \"Lists\",\n      action: \"Disable List\",\n      label: listUrl,\n    });\n    dispatch(disableList(listUrl));\n  }, [dispatch, listUrl]);\n\n  if (!list) return null;\n\n  return (\n    <RowWrapper\n      active={isActive}\n      bgColor={listColor}\n      key={listUrl}\n      id={listUrlRowHTMLId(listUrl)}\n    >\n      {list.logoURI ? (\n        <ListLogo\n          size=\"40px\"\n          style={{ marginRight: \"1rem\" }}\n          logoURI={list.logoURI}\n          alt={`${list.name} list logo`}\n        />\n      ) : (\n        <div style={{ width: \"24px\", height: \"24px\", marginRight: \"1rem\" }} />\n      )}\n      <Column style={{ flex: \"1\" }}>\n        <Row>\n          <StyledTitleText active={isActive}>{list.name}</StyledTitleText>\n        </Row>\n        <RowFixed mt=\"4px\">\n          <StyledListUrlText active={isActive} mr=\"6px\">\n            {list.tokens.length} tokens\n          </StyledListUrlText>\n          <StyledMenu ref={node as any}>\n            <ButtonEmpty onClick={toggle} ref={setReferenceElement} padding=\"0\">\n              <Settings stroke={isActive ? theme.bg1 : theme.text1} size={12} />\n            </ButtonEmpty>\n            {open && (\n              <PopoverContainer\n                show={true}\n                ref={setPopperElement as any}\n                style={styles.popper}\n                {...attributes.popper}\n              >\n                <div>{list && listVersionLabel(list.version)}</div>\n                <SeparatorDark />\n                <ExternalLink\n                  href={`https://tokenlists.org/token-list?url=${listUrl}`}\n                >\n                  View list\n                </ExternalLink>\n                <UnpaddedLinkStyledButton\n                  onClick={handleRemoveList}\n                  disabled={Object.keys(listsByUrl).length === 1}\n                >\n                  Remove list\n                </UnpaddedLinkStyledButton>\n                {pending && (\n                  <UnpaddedLinkStyledButton onClick={handleAcceptListUpdate}>\n                    Update list\n                  </UnpaddedLinkStyledButton>\n                )}\n              </PopoverContainer>\n            )}\n          </StyledMenu>\n        </RowFixed>\n      </Column>\n      <ListToggle\n        isActive={isActive}\n        bgColor={listColor}\n        toggle={() => {\n          isActive ? handleDisableList() : handleEnableList();\n        }}\n      />\n    </RowWrapper>\n  );\n});\n\nconst ListContainer = styled.div`\n  padding: 1rem;\n  height: 100%;\n  overflow: auto;\n  padding-bottom: 80px;\n`;\n\nexport function ManageLists({\n  setModalView,\n  setImportList,\n  setListUrl,\n}: {\n  setModalView: (view: CurrencyModalView) => void;\n  setImportList: (list: TokenList) => void;\n  setListUrl: (url: string) => void;\n}) {\n  const theme = useTheme();\n\n  const [listUrlInput, setListUrlInput] = useState<string>(\"\");\n\n  const lists = useAllLists();\n\n  // sort by active but only if not visible\n  const activeListUrls = useActiveListUrls();\n  const [activeCopy, setActiveCopy] = useState<string[] | undefined>();\n  useEffect(() => {\n    if (!activeCopy && activeListUrls) {\n      setActiveCopy(activeListUrls);\n    }\n  }, [activeCopy, activeListUrls]);\n\n  const handleInput = useCallback((e) => {\n    setListUrlInput(e.target.value);\n  }, []);\n\n  const fetchList = useFetchListCallback();\n\n  const validUrl: boolean = useMemo(() => {\n    return (\n      uriToHttp(listUrlInput).length > 0 ||\n      Boolean(parseENSAddress(listUrlInput))\n    );\n  }, [listUrlInput]);\n\n  const sortedLists = useMemo(() => {\n    const listUrls = Object.keys(lists);\n    return listUrls\n      .filter((listUrl) => {\n        // only show loaded lists, hide unsupported lists\n        return (\n          Boolean(lists[listUrl].current) &&\n          !Boolean(UNSUPPORTED_LIST_URLS.includes(listUrl))\n        );\n      })\n      .sort((u1, u2) => {\n        const { current: l1 } = lists[u1];\n        const { current: l2 } = lists[u2];\n\n        // first filter on active lists\n        if (activeCopy?.includes(u1) && !activeCopy?.includes(u2)) {\n          return -1;\n        }\n        if (!activeCopy?.includes(u1) && activeCopy?.includes(u2)) {\n          return 1;\n        }\n\n        if (l1 && l2) {\n          return l1.name.toLowerCase() < l2.name.toLowerCase()\n            ? -1\n            : l1.name.toLowerCase() === l2.name.toLowerCase()\n            ? 0\n            : 1;\n        }\n        if (l1) return -1;\n        if (l2) return 1;\n        return 0;\n      });\n  }, [lists, activeCopy]);\n\n  // temporary fetched list for import flow\n  const [tempList, setTempList] = useState<TokenList>();\n  const [addError, setAddError] = useState<string | undefined>();\n\n  useEffect(() => {\n    async function fetchTempList() {\n      fetchList(false)\n        .then((list) => setTempList(list))\n        .catch(() => setAddError(\"Error importing list\"));\n    }\n    // if valid url, fetch details for card\n    if (validUrl) {\n      fetchTempList();\n    } else {\n      setTempList(undefined);\n      listUrlInput !== \"\" && setAddError(\"Enter valid list location\");\n    }\n\n    // reset error\n    if (listUrlInput === \"\") {\n      setAddError(undefined);\n    }\n  }, [fetchList, listUrlInput, validUrl]);\n\n  // check if list is already imported\n  const isImported = Object.keys(lists).includes(listUrlInput);\n\n  // set list values and have parent modal switch to import list view\n  const handleImport = useCallback(() => {\n    if (!tempList) return;\n    setImportList(tempList);\n    setModalView(CurrencyModalView.importList);\n    setListUrl(listUrlInput);\n  }, [listUrlInput, setImportList, setListUrl, setModalView, tempList]);\n\n  return (\n    <Wrapper>\n      <PaddedColumn gap=\"14px\">\n        <Row>\n          <SearchInput\n            type=\"text\"\n            id=\"list-add-input\"\n            placeholder=\"https:// or ipfs:// or ENS name\"\n            value={listUrlInput}\n            onChange={handleInput}\n          />\n        </Row>\n        {addError ? (\n          <TYPE.error\n            title={addError}\n            style={{ textOverflow: \"ellipsis\", overflow: \"hidden\" }}\n            error\n          >\n            {addError}\n          </TYPE.error>\n        ) : null}\n      </PaddedColumn>\n      {tempList && (\n        <PaddedColumn style={{ paddingTop: 0 }}>\n          <Card backgroundColor={theme.bg2} padding=\"12px 20px\">\n            <RowBetween>\n              <RowFixed>\n                {tempList.logoURI && (\n                  <ListLogo logoURI={tempList.logoURI} size=\"40px\" />\n                )}\n                <AutoColumn gap=\"4px\" style={{ marginLeft: \"20px\" }}>\n                  <TYPE.body fontWeight={600}>{tempList.name}</TYPE.body>\n                  <TYPE.main fontSize={\"12px\"}>\n                    {tempList.tokens.length} tokens\n                  </TYPE.main>\n                </AutoColumn>\n              </RowFixed>\n              {isImported ? (\n                <RowFixed>\n                  <IconWrapper\n                    stroke={theme.text2}\n                    size=\"16px\"\n                    marginRight={\"10px\"}\n                  >\n                    <CheckCircle />\n                  </IconWrapper>\n                  <TYPE.body color={theme.text2}>Loaded</TYPE.body>\n                </RowFixed>\n              ) : (\n                <ButtonPrimary\n                  style={{ fontSize: \"14px\" }}\n                  padding=\"6px 8px\"\n                  width=\"fit-content\"\n                  onClick={handleImport}\n                >\n                  Import\n                </ButtonPrimary>\n              )}\n            </RowBetween>\n          </Card>\n        </PaddedColumn>\n      )}\n      <Separator />\n      <ListContainer>\n        <AutoColumn gap=\"md\">\n          {sortedLists.map((listUrl) => (\n            <ListRow key={listUrl} listUrl={listUrl} />\n          ))}\n        </AutoColumn>\n      </ListContainer>\n    </Wrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}